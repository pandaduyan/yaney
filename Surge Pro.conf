[General]
# 延迟测试
# > Internet 测试 URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > 代理测速 URL
proxy-test-url = http://www.gstatic.com/generate_204
# > 测试超时（秒）
test-timeout = 5
bypass-system = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,e.crashlytics.com,captive.apple.com,::ffff:0:0:0:0/1,::ffff:128:0:0:0/1
# DNS设置或根据自己网络情况进行相应设置
bypass-tun = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12
# > DNS 服务器 (如无必要不建议使用 DNS over HTTPS)
dns-server = 119.29.29.29, 223.5.5.5, system
allow-wifi-access = false
# 高级设置
# > 自定义 GeoIP 数据库
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# > 日志级别
loglevel = notify
# > 当遇到 REJECT 策略时返回错误页
show-error-page-for-reject = true
tls-provider = default
compatibility-mode = 1
ipv6 = false
wifi-assist = true

[Replica]
# 0 为关闭，1 为开启
# > 隐藏 Apple 请求
hide-apple-request = 1
# > 隐藏崩溃追踪器请求
hide-crash-reporter-request = 1
# > 隐藏 UDP 会话
hide-udp = 0
# > 关键词过滤器
# none（关闭关键词过滤器） / whitelist（blacklist（仅记录包含关键字的请求）） / blacklist（仅记录不包含关键字的请求） / pattern（匹配通配符的请求）
# keyword-filter-type = none
# > 关键词
# keyword-filter = (null)
keyword-filter-type = none

[Proxy Group]
🎯 DIRECT = select, DIRECT, REJECT, no-alert=0, hidden=0
🛑 REJECT = select, REJECT, REJECT-TINYGIF, DIRECT, no-alert=0, hidden=0
🐷 Proxy = select, 🌀 Select, 🎯 DIRECT, 🛑 REJECT, ♻️ Auto, no-alert=0, hidden=0, include-all-proxies=0
🌀 Select = select, 🎯 DIRECT, HongKong-Select, Taiwan-Select, Japan-Select, Korea-Select, Singapore-Select, American-Select, Other-Area, 🛑 REJECT, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=SubNodes-Select
♻️ Auto = url-test, url=http://www.gstatic.com/generate_204, update-interval=86400, timeout=0, interval=300, tolerance=0, no-alert=1, hidden=0, include-all-proxies=0, include-other-group=SubNodes-Select
🎧 NeteaseMusic = select, 🎯 DIRECT, 🐷 Proxy, 🛑 REJECT, no-alert=0, hidden=0, update-interval=0, include-all-proxies=0, policy-path=https://sub.store/download/collection/NeteaseUnblock
📺 BiliBili = select, DIRECT, 🐷 Proxy, HongKong-Select, Taiwan-Select, 🛑 REJECT, no-alert=0, hidden=0, include-all-proxies=0
🐟 Final = select, 🐷 Proxy, 🎯 DIRECT, 🛑 REJECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=SubNodes-Select

[Rule]
# 本地网络直连
RULE-SET,LAN,🎯 DIRECT
RULE-SET,https://unpkg.com/proxy-script/config/Surge/rule/direct.list,🎯 DIRECT
# 规则修正
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,🎯 DIRECT
# 常见广告关键字-拦截
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,🛑 REJECT
# 常用域名去广告-拦截
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising_Domain.list,🛑 REJECT
# 网易云音乐
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/NetEaseMusic/NetEaseMusic.list,🎧 NeteaseMusic
# 哔哩哔哩
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,📺 BiliBili
# 国际分流
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,🐷 Proxy
# 国际域名分流
# DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,🐷 Proxy
# 国内域名-直连
# RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMax/ChinaMax.list,🎯 DIRECT
# 国内域名-直连
# DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMax/ChinaMax_Domain.list,🎯 DIRECT
# GEOIP数据库内国内IP-直连
GEOIP,CN,🎯 DIRECT
# 以上规则未包含的其他访问
FINAL,🐟 Final,dns-failed

[Host]
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.163.com = server:119.29.29.29
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.baidu.com = server:syslib
*.bdstatic.com = server:syslib
hdslb.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.jd.com = server:119.28.28.28
*.qpic.cn = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
*.taobao.com = server:223.6.6.6
*.tmall.com = server:223.6.6.6
cdn.pcbeta.attachment.inimc.com = 120.52.19.113
cdn.pcbeta.css.inimc.com = 120.52.19.113
cdn.pcbeta.static.inimc.com = 120.52.19.113
*.pcbeta.com = 120.52.19.113
# > Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# > Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
# > PlayStation
*.dl.playstation.net = server:119.29.29.29
# > Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router
# CUSTOM DNS

[MITM]
skip-server-cert-verify = true
tcp-connection = true
hostname = *.tik-tokapi.com, *.byteoversea.com, *.tiktokv.com, ap?.bilibili.com, ap?.biliapi.net,  -*amemv.com, -*snssdk.com, *.163.com, api.m.jd.com, music.163.com

[Script]
Boxjs = type=http-request,pattern=^https?://boxjs.net,requires-body=1,max-size=-1,timeout=5,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js,script-update-interval=86400
# 哔哩哔哩换区
Bili Region = type=http-response,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/v\d\/search\/defaultwords)\?access_key,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
# 可选, 适用于搜索指定地区的番剧
Bili Search = type=http-request,pattern=^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js
彩云天气vip = type=http-response,pattern=https:\/\/biz\.caiyunapp\.com\/v2\/user\?app_name\=weather,requires-body=1,max-size=0,script-path=https://gitee.com/jexxagn/quan-x/raw/master/rewrite/caiyun_svip.js,script-update-interval=-1
# Notability解锁订阅
# NotabilityProCrack.js = requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/yqc007/QuantumultX/master/NotabilityProCrack.js,type=http-response,pattern=^https?:\/\/notability\.com\/subscriptions,script-update-interval=-1

